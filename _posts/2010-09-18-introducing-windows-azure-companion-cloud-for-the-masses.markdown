---
layout: post
title: "Introducing Windows Azure Companion â€“ Cloud for the masses?"
date: 2010-09-18 19:32:00 +0200
comments: true
published: true
categories: ["post"]
tags: ["Azure", "CSharp", "General", "PHP", "Scalability", "Azure Database", "Webfarm"]
alias: ["/post/2010/09/18/Introducing-Windows-Azure-Companion-Cloud-for-the-masses.aspx", "/post/2010/09/18/introducing-windows-azure-companion-cloud-for-the-masses.aspx"]
author: Maarten Balliauw
---
<p><a href="/images/999%5B6%5D.png"><img style="background-image: none; border-right-width: 0px; margin: 0px 0px 5px 5px; padding-left: 0px; padding-right: 0px; display: inline; float: ; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Windows Azure Companion" src="/images/999%5B6%5D_thumb.png" border="0" alt="Windows Azure Companion" width="244" height="236" align="right" /></a>At <a href="http://www.osidays.com" target="_blank">OSIDays</a> in India, the <a href="http://blogs.msdn.com/b/interoperability/archive/2010/09/19/windows-azure-platform-gets-easier-for-php-developers-to-write-modern-cloud-applications.aspx" target="_blank">Interoperability team at Microsoft</a> has made an interesting series of announcements related to PHP and Windows Azure.&nbsp; To summarize: <a href="http://www.interoperabilitybridges.com/projects/windows-azure-tools-for-eclipse">Windows Azure Tools for Eclipse for PHP</a> has been updated and is on par with Visual Studio tooling (which means you can deploy a PHP app to Windows Azure without leaving Eclipse!). The <a href="http://www.interoperabilitybridges.com/projects/windows-azure-command-line-tools-for-php">Windows Azure Command-line Tools for PHP</a> have been updated, and there&rsquo;s a new release of the <a href="http://www.interoperabilitybridges.com/projects/php-sdk-for-windows-azure">Windows Azure SDK for PHP</a> and a <a href="http://wordpress.org/extend/plugins/windows-azure-storage/">Windows Azure Storage plugin for WordPress</a> built on that.</p>
<p>What&rsquo;s most interesting in the series of announcements is the <a href="http://code.msdn.microsoft.com/azurecompanion" target="_blank">Windows Azure Companion &ndash; September 2010 Community Technology Preview(CTP)</a>. In short, compare it with <a href="http://www.microsoft.com/web" target="_blank">Web Platform Installer</a> but targeted at Windows Azure. It allows you to install a set of popular PHP applications on a Windows Azure instance, like WordPress or phpBB.</p>
<p>This list of applications seems a bit limited, but it&rsquo;s not. It&rsquo;s just a standard Atom feed where the Companion gets its information from. Feel free to <a href="http://code.msdn.microsoft.com/Wiki/View.aspx?ProjectName=azurecompanion#feedschema">create your own feed</a>, or use a <a href="http://wazstorage.blob.core.windows.net/azurecompanion/default/WindowsAzureCompanionFeed.xml" target="_blank">sample feed I created</a>&nbsp;and contains following applications which I know work well on Windows Azure:</p>
<ul>
<li>PHP Runtime</li>
<li>PHP Wincache Extension</li>
<li>Microsoft Drivers for PHP for SQL Server</li>
<li>Windows Azure SDK for PHP</li>
<li>PEAR Archive Tar</li>
<li>phpBB</li>
<li>Wordpress</li>
<li>eXtplorer File Manager</li>
</ul>
<p><a href="http://www.dotnetkicks.com/kick/?url=/post/2010/09/17/Introducing-Windows-Azure-Companion-e28093-Cloud-for-the-masses.aspx&amp;title=Introducing Windows Azure Companion &ndash; Cloud for the masses?"><img src="http://www.dotnetkicks.com/Services/Images/KickItImageGenerator.ashx?url=/post/2010/09/17/Introducing-Windows-Azure-Companion-e28093-Cloud-for-the-masses.aspx" border="0" alt="kick it on DotNetKicks.com" /> </a></p>
<h2>Obtaining &amp; installing Windows Azure Companion</h2>
<p>There are 3 steps involved in this. The first one is: go get yourself a <a href="http://www.azure.com" target="_blank">Windows Azure subscription</a>. I recall there is a free, limited version where you can use a virtual machine for 25 hours. Not much, but enough to try out Windows Azure Companion. Make sure to completely undeploy the application afterwards if you mind being billed.</p>
<p>Next, get the <a href="http://code.msdn.microsoft.com/azurecompanion" target="_blank">Windows Azure Companion &ndash; September 2010 Community Technology Preview(CTP)</a>. There is a source code download where you can compile it yourself using Visual Studio, there is also a &ldquo;cspkg&rdquo; version that you can just deploy onto your Windows Azure account and get running. I recommend the latter one if you want to be up and running fast.</p>
<p>The third step of course, is deploying. Before doing this edit the &ldquo;ServiceConfiguration.cscfg&rdquo; file. It needs your Windows Azure storage credentials and a administrative username/password so only you can log onto the Companion.</p>
<p>This configuration file also contains a reference to the application feed, so if you want to create one yourself this is the place where you can reference it.</p>
<h2>Installing applications</h2>
<p>Getting a &ldquo;Running&rdquo; state and a green bullet on the Windows Azure portal? Perfect! Then browse to <a href="http://yourchosenname.cloudapp.net:8080">http://yourchosenname.cloudapp.net:8080</a> (mind the port number!), this is where the administrative interface resides. Log in with the credentials you specified in &ldquo;ServiceConfiguration.cscfg&rdquo; before and behold the Windows Azure Companion administrative user interface.</p>
<p><a href="/images/991.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 5px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="Windows Azure Companion Administration" src="/images/991_thumb.png" border="0" alt="Windows Azure Companion Administration" width="244" height="236" /></a></p>
<p><em>As a side note: this screenshot was taken with a custom feed I created which included some other applications with SQL Server support, like the Drupal 7 alpha releases. Because these are alpha&rsquo;s I decided to not include them in my </em><a href="http://wazstorage.blob.core.windows.net/azurecompanion/default/WindowsAzureCompanionFeed.xml" target="_blank"><em>sample feed that you can use</em></a><em>. I am confident that more supported applications will come in the future though.</em></p>
<p>Go to the platform tab, select the PHP runtime and other components followed by clicking &ldquo;Next&rdquo;. Pick your favorite version numbers and proceed with installing. After this has been finished, you can install an application from the applications tab. How about WordPress?<a href="/images/995.png"><img style="background-image: none; border-right-width: 0px; margin: 5px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WordPress on Windows Azure" src="/images/995_thumb.png" border="0" alt="WordPress on Windows Azure" width="244" height="236" /></a></p>
<p>In this last step you can choose where an application will be installed. Under the root of the website or under a virtual folder, anything you like. Afterwards, the application will be running at <a href="http://yourchosenname.cloudapp.net">http://yourchosenname.cloudapp.net</a>.</p>
<h2>More control with eXtplorer</h2>
<p>The <a href="http://wazstorage.blob.core.windows.net/azurecompanion/default/WindowsAzureCompanionFeed.xml" target="_blank">sample feed I provide</a> includes <a href="http://extplorer.sourceforge.net/" target="_blank">eXtplorer</a>, a web-based file management solution. When installing this, you get full control over the applications folder on your Windows Azure instance, enabling you to edit files (configuration files) but also enabling you to upload *any* application you want to host on Windows Azure Companion. Here is me creating a highly modern homepage: and the rendered version of it:</p>
<p align="center"><a href="/images/986.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 5px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: ; border-top: 0px; border-right: 0px; padding-top: 0px" title="eXtplorer on Windows Azure" src="/images/986_thumb.png" border="0" alt="eXtplorer on Windows Azure" width="244" height="236" /></a><a href="/images/985.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 5px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: ; border-top: 0px; border-right: 0px; padding-top: 0px" title="Welcome!" src="/images/985_thumb.png" border="0" alt="Welcome!" width="244" height="236" /></a></p>
<h2>Administrative options</h2>
<p>As with any web server, you want some administrative options. Windows Azure Companion provides you with logging of both Windows Azure and PHP. You can edit php.ini, restart the server, see memory and CPU usage statistics and create a backup of your current instance in case you want to start messing things up and want a &ldquo;last known good&rdquo; instance of your installation.</p>
<p align="center"><a href="/images/992.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 5px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: ; border-top: 0px; border-right: 0px; padding-top: 0px" title="Windows Azure Companion Administration" src="/images/992_thumb.png" border="0" alt="Windows Azure Companion Administration" width="244" height="236" /></a><a href="/images/993.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 5px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: ; border-top: 0px; border-right: 0px; padding-top: 0px" title="Windows Azure Companion Administration" src="/images/993_thumb.png" border="0" alt="Windows Azure Companion Administration" width="244" height="236" /></a></p>
<p><em>Note: If you are a control freak, just stop your application on Windows Azure, download the virtual hard drive (.vhd) file from blob storage and make some modifications, upload it again and restart the Windows Azure Companion. I don&rsquo;t recommend this as you will have to download and upload a large .vhd file but in theory it is possible to fiddle around.</em></p>
<h2>Internet Explorer 9 jumplist support</h2>
<p>A cool feature included is the IE9 jumplist support. <a href="http://microsoft.com/ie9/" target="_blank">IE9 beta</a> is out and it seems all teams at Microsoft are adding support for it. If you drag the Windows Azure Companion administration tab to your Windows 7 taskbar, you get the following nifty shortcuts when right-clicking:</p>
<p><a href="/images/IE9%20jumplist.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 5px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="IE9 jumplist" src="/images/IE9%20jumplist_thumb.png" border="0" alt="IE9 jumplist" width="244" height="214" /></a></p>
<h2>Scalability</h2>
<p>The current preview release of Windows Azure Companion can not provide scale-out. It can scale up to a higher number of CPU, memory and storage, but not to multiple role instances. This is due to the fact that Windows Azure drives can not be shared in read/write mode across multiple machines. On the other hand: if you deploy 2 instances and install the same apps on them, use the same SQL Azure database backend and use round-robin DNS, you can achieve scale-out at this time. Not the way you'd want it, but it should work. Then again: I don&rsquo;t think that Windows Azure Companion has been created with very large sites in mind as this type of sites will benefit more from a completely optimized version for &ldquo;regular&rdquo; Windows Azure.</p>
<h2>Conclusion</h2>
<p>I&rsquo;m impressed with this series of releases, especially the Windows Azure Companion. It clearly shows Microsoft is not just focusing on its own platform but also treating PHP as an equal citizen for Windows Azure. The Companion in my opinion also lowers the step to cloud computing: it&rsquo;s really easy to install and use and may attract more people to the Windows Azure platform (especially if they would add a basic, entry-level subscription with low capacity and a low price, pun intended :-))</p>
<p><strong>Update:</strong> also check Jim O&rsquo;Neil's blog post:&nbsp;<a href="http://blogs.msdn.com/b/jimoneil/archive/2010/09/19/windows-azure-companion-php-and-wordpress-in-azure.aspx?wa=wsignin1.0">Windows Azure Companion: PHP and WordPress in Azure</a>&nbsp;and Brian Swan's blog post: <a href="http://blogs.msdn.com/b/brian_swan/archive/2010/09/20/announcing-the-windows-azure-companion-and-more.aspx" target="_blank">Announcing the Windows Azure Companion and More...</a></p>
<p><a href="http://www.dotnetkicks.com/kick/?url=/post/2010/09/17/Introducing-Windows-Azure-Companion-e28093-Cloud-for-the-masses.aspx&amp;title=Introducing Windows Azure Companion &ndash; Cloud for the masses?"><img src="http://www.dotnetkicks.com/Services/Images/KickItImageGenerator.ashx?url=/post/2010/09/17/Introducing-Windows-Azure-Companion-e28093-Cloud-for-the-masses.aspx" border="0" alt="kick it on DotNetKicks.com" /> </a></p>
{% include imported_disclaimer.html %}
